<template>
    <div class="login-page">
      <el-card class="box-card">
        <div slot="header" class="clearfix">
          <span class="login-title">ğŸ”æ™¯åŒºç®¡ç†ç³»ç»Ÿåå°</span>
        </div>
        <div class="login-form">
          <el-form :model="form" :rules="loginRules" ref="loginForm">
            <el-form-item prop="userName">
              <el-input type="text" v-model="form.userName" auto-complete="off" placeholder="è¯·è¾“å…¥ç”¨æˆ·å">
                <template slot="prepend"><i style="font-size:20px" class="el-icon-user"></i></template>
              </el-input>
            </el-form-item>
            <el-form-item prop="passWord">
              <el-input type="password" v-model="form.passWord" auto-complete="off" placeholder="è¯·è¾“å…¥å¯†ç ">
                <template slot="prepend"><i style="font-size:20px" class="el-icon-key"></i></template>
              </el-input>
            </el-form-item>
  
            <!-- <el-form-item prop="vertify_code">
              <el-input v-model="form.vertify_code" placeholder="éªŒè¯ç " prefix-icon="el-icon-key">
                <template slot="append">
                  <div class="login-code" @click="refreshCode" title="çœ‹ä¸æ¸…ï¼Ÿç‚¹å‡»åˆ‡æ¢">
                    <verifyCode :identifyCode="identifyCode"></verifyCode>
                  </div>
                </template>
              </el-input>
            </el-form-item> -->
  
            <el-form-item>
              <el-button style="width:100%;" type="primary" @click="handleLogin" :loading="loading">ç™»å½•</el-button>
            </el-form-item>
          </el-form>
        </div>
      </el-card>
    </div>
  </template>
  
  <script>
  
//   import verifyCode from './components/VerifyCode'
  
  export default {
    name: 'Login',
    components:{
    //   verifyCode
    },
    data(){
      return {
        // éªŒè¯ç ç»„ä»¶
        // identifyCodes: 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789',
        // identifyCode: '',
  
        loading: false,
        form:{
          userName: '',
          passWord: ''
        },
        loginRules:{
          userName: [
            { required: true, message: 'è¯·è¾“å…¥è´¦æˆ·', trigger: 'blur' },
          ],
          passWord: [
            { required: true, message: 'è¯·è¾“å…¥å¯†ç ', trigger: 'blur'}
          ]
        }
      }
    },
    created () {
      this.refreshCode()
    },
    methods:{
      handleLogin(){
        this.$router.push('/home');
      },
    //   // éªŒè¯ç 
    //   randomNum (min, max) {
    //     return Math.floor(Math.random() * (max - min) + min)
    //   },
    //   // ç”ŸæˆéšæœºéªŒè¯ç 
    //   makeCode (o, l) {
    //     for (let i = 0; i < l; i++) {
    //       this.identifyCode += this.identifyCodes[
    //         this.randomNum(0, this.identifyCodes.length)
    //         ]
    //     }
    //     // console.log('identifyCode: ' + this.identifyCode)
    //   },
    //   // éªŒè¯ç åˆ·æ–°
    //   refreshCode () {
    //     this.identifyCode = ''
    //     this.makeCode(this.identifyCodes, 4)
    //   },
    //   // éªŒè¯ç è¾“å…¥æ ¡éªŒ
    //   validateCode (rule, value, callback) {
    //     if (value !== this.identifyCode) {
    //       callback(new Error('éªŒè¯ç éªŒè¯é”™è¯¯ï¼è¯·è¾“å…¥æ­£ç¡®çš„éªŒè¯ç ï¼'))
    //     } else {
    //       callback()
    //     }
    //   }
      // handleLogin(){
      //   this.$refs.loginForm.validate().then(()=>{
      //     this.loading = true;
      //
      //     //æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚åå°æ¥å£ ç™»å½•æ“ä½œ
      //     setTimeout(()=>{
      //       this.$router.push('/home');
      //       this.loading = false;
      //     }, 1000)
      //   }).catch((error=>{
      //     this.$message({
      //       message: 'è¾“å…¥é”™è¯¯ï¼',
      //       type: 'warning'
      //     });
      //   }))
      // }
    }
  }
  </script>
  
  <style scoped>
  .login-page{
    margin-top: -60px;
    margin-left: -10px;
    background-image: linear-gradient(180deg, #090948 0%, #f5f5f5 100%);
    height: 800px;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  
  .login-title{
    font-size: 20px;
  }
  
  .box-card {
    width: 375px;
  }
  
  </style>
  
  