{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/ChenZhiluo/Desktop/msc/scenic/wx_front/App.vue?ba94","uni-app:///App.vue","webpack:////Users/ChenZhiluo/Desktop/msc/scenic/wx_front/App.vue?ffa1","webpack:////Users/ChenZhiluo/Desktop/msc/scenic/wx_front/App.vue?c12b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","use","uView","VueCompositionApi","config","productionTip","App","mpType","isPromise","obj","then","uni","addInterceptor","returnValue","res","Promise","resolve","reject","error","app","store","$mount","component","TabBar","data","global_strategy_id","global_scenic_id","globalData","userInfo","screenHeight","statusBarHeight","windowHeight","windowWidth","rpx_const","resourceURL","onLaunch","setInterval","console","success","onShow","onHide","methods"],"mappings":";;;;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAEA;AACA;AACA;AAA6B;AAAA;AAP7B;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAO1DC,YAAG,CAACC,GAAG,CAACC,gBAAK,CAAC;AAEdF,YAAG,CAACC,GAAG,CAACE,uBAAiB,CAAC;AAC1BH,YAAG,CAACI,MAAM,CAACC,aAAa,GAAG,KAAK;AAChCC,YAAG,CAACC,MAAM,GAAG,KAAK;AAElB,IAAI;EAAA,IACMC,SAAS,GAAlB,SAASA,SAAS,CAACC,GAAG,EAAE;IACvB,OACC,CAAC,CAACA,GAAG,KACJ,sBAAOA,GAAG,MAAK,QAAQ,IAAI,OAAOA,GAAG,KAAK,UAAU,CAAC,IACtD,OAAOA,GAAG,CAACC,IAAI,KAAK,UAAU;EAEhC,CAAC,EAED;EACAC,GAAG,CAACC,cAAc,CAAC;IAClBC,WAAW,uBAACC,GAAG,EAAE;MAChB,IAAI,CAACN,SAAS,CAACM,GAAG,CAAC,EAAE;QACpB,OAAOA,GAAG;MACX;MACA,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;QACvCH,GAAG,CAACJ,IAAI,CAAC,UAACI,GAAG,EAAK;UACjB,IAAIA,GAAG,CAAC,CAAC,CAAC,EAAE;YACXG,MAAM,CAACH,GAAG,CAAC,CAAC,CAAC,CAAC;UACf,CAAC,MAAM;YACNE,OAAO,CAACF,GAAG,CAAC,CAAC,CAAC,CAAC;UAChB;QACD,CAAC,CAAC;MACH,CAAC,CAAC;IACH;EACD,CAAC,CAAC;AACH,CAAC,CAAC,OAAOI,KAAK,EAAE,CAAC;AAEjB,IAAMC,GAAG,GAAG,IAAInB,YAAG,iCACfM,YAAG;EACNc,KAAK,EAALA;AAAK,GACJ;AACF,UAAAD,GAAG,EAACE,MAAM,EAAE;AACZ;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAAA;EAAA;IAAA;EAAA;AAAA;AAIArB,YAAG,CAACsB,SAAS,CAAC,QAAQ,EAAEC,MAAM,CAAC,C;;;;;;;;;;;;;AC7H/B;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACc;;;AAGhE;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAkzB,CAAgB,iyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;eCCt0B;EACAC;IACA;MACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IAAA;IACA;IACA;IACAC;MACA;IACA;IACAC;IACA1B;MACA2B;QACAD;QACAA;QACA;QACA;QACA;QACA;QACA;MAEA;IACA;IACA;;IAEA;IACA;MACA;MACA;QACA;QACAA;MACA;IACA;MACAA;IACA;EACA;EACAE;IACAF;EACA;EACAG;IACAH;EACA;EACAI;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA;AAEA;AAAA,2B;;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAAqgD,CAAgB,g6CAAG,EAAC,C;;;;;;;;;;;ACAzhD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"common/main.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import App from './App'\nimport store from './store'\nimport { startLocationTimer } from './utils/location.js'\n\nimport Vue from 'vue'\nimport VueCompositionApi from '@vue/composition-api'\nimport uView from \"uview-ui\";\nVue.use(uView);\n \nVue.use(VueCompositionApi)\nVue.config.productionTip = false\nApp.mpType = 'app'\n\ntry {\n\tfunction isPromise(obj) {\n\t\treturn (\n\t\t\t!!obj &&\n\t\t\t(typeof obj === \"object\" || typeof obj === \"function\") &&\n\t\t\ttypeof obj.then === \"function\"\n\t\t);\n\t}\n\n\t// 统一 vue2 API Promise 化返回格式与 vue3 保持一致\n\tuni.addInterceptor({\n\t\treturnValue(res) {\n\t\t\tif (!isPromise(res)) {\n\t\t\t\treturn res;\n\t\t\t}\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tres.then((res) => {\n\t\t\t\t\tif (res[0]) {\n\t\t\t\t\t\treject(res[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(res[1]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t});\n} catch (error) {}\n\nconst app = new Vue({\n\t...App,\n\tstore\n})\napp.$mount()\n// startLocationTimer()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// 检查授权状态\n// app.globalData.checkLocationPermission = async function() {\n// \tconst res = await uni.authorize({\n// \t\tscope: 'scope.userLocation'\n// \t});\n// \tif (res.authResult === 'granted') {\n// \t\t// 用户已授权\n// \t\tthis.globalData.isLocationAuthorized = true;\n// \t\tthis.startLocationUpdates();\n// \t} else if (res.authResult === 'denied') {\n// \t\t// 用户拒绝授权\n// \t\tuni.showModal({\n// \t\t\ttitle: '位置授权提示',\n// \t\t\tcontent: '未授权位置信息将无法使用本小程序完整功能',\n// \t\t\tshowCancel: false,\n// \t\t\tsuccess: function(res) {\n// \t\t\t\tif (res.confirm) {\n// \t\t\t\t\t// 用户点击确认，重新引导授权\n// \t\t\t\t\tuni.openSetting({\n// \t\t\t\t\t\tsuccess: function(res) {\n// \t\t\t\t\t\t\tif (res.authSetting['scope.userLocation']) {\n// \t\t\t\t\t\t\t\t// 用户已开启授权，可以执行相关操作\n// \t\t\t\t\t\t\t\tthis.globalData.isLocationAuthorized = true;\n// \t\t\t\t\t\t\t\tthis.startLocationUpdates();\n// \t\t\t\t\t\t\t}\n// \t\t\t\t\t\t}\n// \t\t\t\t\t});\n// \t\t\t\t}\n// \t\t\t}\n// \t\t});\n// \t}\n// }\n\n// // 开始获取位置信息\n// app.globalData.startLocationUpdates = function() {\n// \tif (this.timer) {\n// \t\tclearInterval(this.timer);\n// \t}\n// \tthis.timer = setInterval(async () => {\n// \t\tconst location = await uni.getLocation({\n// \t\t\ttype: 'gcj02'\n// \t\t});\n// \t\tif (location) {\n// \t\t\t// 处理位置信息\n// \t\t\tconsole.log(location);\n// \t\t}\n// \t}, 60000); // 每隔5秒获取一次位置信息\n// }\n\n// // 在App启动时执行\n// app.onLaunch = function() {\n// \t// 展示本地存储能力\n// \tconst logs = uni.getStorageSync('logs') || []\n// \tlogs.unshift(Date.now())\n// \tuni.setStorageSync('logs', logs)\n\n// \t// 调用函数检查位置授权状态\n// \tthis.globalData.checkLocationPermission();\n// }\n\n\nimport TabBar from \"./components/TabBar.vue\"\nVue.component('TabBar', TabBar);","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// global_strategy_id: null // 存放全局策略ID\r\n\t\t\t\tglobal_strategy_id: 1,\r\n\t\t\t\tglobal_scenic_id: null,\r\n\t\t\t\tglobalData: {\r\n\t\t\t\t\tuserInfo: null,\r\n\t\t\t\t\tscreenHeight: 0,\r\n\t\t\t\t\tstatusBarHeight: 0,\r\n\t\t\t\t\twindowHeight: 0,\r\n\t\t\t\t\twindowWidth: 0,\r\n\t\t\t\t\trpx_const: 0,\r\n\t\t\t\t\tresourceURL: ''\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLaunch: function() {\r\n\t\t\t// this.fetchRecommendationStrategy();\r\n\t\t\t// setInterval(this.fetchRecommendationStrategy, 60000); // 每分钟发送一次请求\r\n\t\t\tsetInterval(() => {\r\n\t\t\t\tthis.$store.dispatch('getUserLocation');\r\n\t\t\t}, 60000);\r\n\t\t\tconsole.log('App Launch')\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tconsole.log(res.screenHeight)\r\n\t\t\t\t\tthis.globalData.screenHeight = res.screenHeight\r\n\t\t\t\t\tthis.globalData.statusBarHeight = res.statusBarHeight\r\n\t\t\t\t\tthis.globalData.windowHeight = res.windowHeight\r\n\t\t\t\t\tthis.globalData.windowWidth = res.windowWidth\r\n\t\t\t\t\tthis.globalData.rpx_const = 750 / res.windowWidth\r\n\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.globalData.resourceURL = 'http://127.0.0.1:8000/'\r\n\t\t\t\r\n\t\t\t// 尝试从本地存储获取用户信息\r\n\t\t\ttry {\r\n\t\t\t\tconst userInfoStr = uni.getStorageSync('userInfo');\r\n\t\t\t\tif (userInfoStr) {\r\n\t\t\t\t\tthis.globalData.userInfo = JSON.parse(userInfoStr);\r\n\t\t\t\t\tconsole.log('从本地存储加载用户信息:', this.globalData.userInfo);\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error('读取用户信息失败:', e);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\tconsole.log('App Show')\r\n\t\t},\r\n\t\tonHide: function() {\r\n\t\t\tconsole.log('App Hide')\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t\t// fetchRecommendationStrategy() {\r\n\t\t\t// \tuni.request({\r\n\t\t\t// \t\turl: 'http://localhost:8000/get_recommendation_strategy',\r\n\t\t\t// \t\tmethod: 'GET',\r\n\t\t\t// \t\tsuccess: (res) => {\r\n\t\t\t// \t\t\t// 处理响应，更新全局状态或进行其他操作\r\n\t\t\t// \t\t\tif (res.data.strategy_id) {\r\n\t\t\t// \t\t\t\tthis.global_strategy_id = res.data.strategy_id; // 将策略ID存储在全局状态中\r\n\t\t\t// \t\t\t} else {\r\n\t\t\t// \t\t\t\tconsole.error('Strategy ID not found in response.');\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t},\r\n\t\t\t// \t\tfail: (err) => {\r\n\t\t\t// \t\t\tconsole.error('Failed to fetch recommendation strategy:', err);\r\n\t\t\t// \t\t}\r\n\t\t\t// \t});\r\n\t\t\t// },\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t/*每个页面公共css */\r\n\t@import \"uview-ui/index.scss\";\r\n\t@import \"/wxcomponents/vant/common/index.wxss\";\r\n\r\n\t.col-horizontal-center {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.col-ver-center {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.hor-ver-center {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.uni-navbar .uni-navbar--border.data-v-6bda1a90 {\r\n\t\tborder-bottom-style: none;\r\n\t}\r\n\t\r\n\t.junyun {\r\n\t\tdisplay: flex;\r\n\t\t/* 使得子元素垂直排列 */\r\n\t\tjustify-content: space-between;\r\n\t\t/* 子元素垂直均匀分布 */\r\n\t}\r\n\t\r\n\t.kaoyou {  \r\n\t    display: flex;  \r\n\t    justify-content: flex-end; /* 使子元素靠右对齐 */  \r\n\t} \r\n</style>\r\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1744710978052\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}